name: AI On-Demand Assistant  
on:
  issue_comment:
    types: [created]
  pull_request_review_comment:
    types: [created]
  pull_request_review:
    types: [submitted]
  issues:
    types: [opened]

permissions:
  contents: read
  issues: write
  pull-requests: write
  actions: read

jobs:
  ai-response:
    uses: ethereumfollowprotocol/workflow-automation/.github/workflows/issue-response.yml@v1.0.9
    with:
      config-profile: "default"
      bot-mention: "@efp-dev-ops"
      enable-auto-labeling: true
      enable-escalation: true
    secrets:
      CLAUDE_CODE_OAUTH_TOKEN: ${{ secrets.DEV_OPS_BOT_CLAUDE_CODE_OAUTH_TOKEN }}
      APP_ID: ${{ secrets.DEV_OPS_BOT_APP_ID }}
      PRIVATE_KEY: ${{ secrets.DEV_OPS_BOT_PRIVATE_KEY }}
      ALLOWED_USER_LIST: ${{ secrets.DEV_OPS_BOT_ALLOWED_USER_LIST }}
